================================================================================
MIGRACI√ìN DE MONGODB A POSTGRESQL - COMANDOS A EJECUTAR
================================================================================

UBICACI√ìN: c:\Users\Administrador\Documents\FM\Inmemso\Web\inmemso-architecture

--------------------------------------------------------------------------------
PASO 1: CONFIGURA POSTGRESQL
--------------------------------------------------------------------------------

1.1 Instala PostgreSQL si no lo tienes:
    Descarga: https://www.postgresql.org/download/windows/
    O usa Docker: docker run --name postgres -e POSTGRES_PASSWORD=postgres -p 5432:5432 -d postgres

1.2 Crea la base de datos:
    Abre pgAdmin o usa psql:
    CREATE DATABASE inmemso;

--------------------------------------------------------------------------------
PASO 2: CONFIGURA EL ENTORNO
--------------------------------------------------------------------------------

2.1 Copia el archivo de configuraci√≥n:
    Copy-Item env.local .env

2.2 Edita .env y verifica las credenciales:
    DATABASE_URL="postgresql://postgres:postgres@localhost:5432/inmemso?schema=public"
    MONGODB_URI="mongodb://localhost:27017/inmemso"

    (Si usas contrase√±a diferente, c√°mbiala en DATABASE_URL)

--------------------------------------------------------------------------------
PASO 3: PREPARA LA BASE DE DATOS
--------------------------------------------------------------------------------

3.1 Abre PowerShell en la carpeta del proyecto:
    cd "c:\Users\Administrador\Documents\FM\Inmemso\Web\inmemso-architecture"

3.2 Crea las tablas en PostgreSQL:
    npx prisma db push

    (Deber√≠as ver: "Your database is now in sync with your Prisma schema")

--------------------------------------------------------------------------------
PASO 4: EJECUTA LA MIGRACI√ìN
--------------------------------------------------------------------------------

4.1 Aseg√∫rate de que MongoDB est√© corriendo:
    Get-Service -Name MongoDB
    (Si no est√° corriendo: Start-Service MongoDB)

4.2 Ejecuta el script de migraci√≥n:
    npx ts-node prisma\migrate-data.ts

    (Ver√°s: "üöÄ Iniciando migraci√≥n..." y luego el progreso)

--------------------------------------------------------------------------------
PASO 5: VERIFICA LA MIGRACI√ìN
--------------------------------------------------------------------------------

5.1 Usa Prisma Studio (UI visual):
    npx prisma studio
    (Se abrir√° una p√°gina web en http://localhost:5555)

5.2 O verifica con consultas SQL:
    Abre pgAdmin o tu cliente SQL favorito y ejecuta:
    
    SELECT * FROM users;
    SELECT * FROM projects;
    SELECT * FROM services;
    SELECT * FROM testimonials;
    SELECT * FROM media;

--------------------------------------------------------------------------------
RESUMEN DE ARCHIVOS GENERADOS
--------------------------------------------------------------------------------

‚úÖ prisma/schema.prisma              - Esquema de PostgreSQL (7 modelos)
‚úÖ prisma/migrate-data.ts            - Script de migraci√≥n autom√°tica
‚úÖ prisma/INSTRUCCIONES_MIGRACION.md - Gu√≠a detallada
‚úÖ prisma/INSTRUCCIONES_FINAL.md     - Pasos espec√≠ficos
‚úÖ prisma/MIGRACION_COMPLETE.md      - Resumen completo
‚úÖ env.local                         - Plantilla de configuraci√≥n
‚úÖ MIGRACION_POSTGRESQL.md           - Resumen en ra√≠z
‚úÖ COMANDOS_MIGRACION.txt            - Este archivo

================================================================================
¬øNECESITAS AYUDA?
================================================================================

Lee: prisma/INSTRUCCIONES_FINAL.md para detalles t√©cnicos
O: prisma/INSTRUCCIONES_MIGRACION.md para soluci√≥n de problemas

================================================================================






